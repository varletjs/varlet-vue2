import{I as m}from"./index.7e6c9d9a.js";import{V as b,F as p}from"./validation.7606bf3f.js";import{R as f}from"./index.19abdf8c.js";import{d as v}from"./create.03b31fc7.js";import{c as u}from"./relation.9e421618.js";import{f as x}from"./elements.2a324d45.js";import{n as _}from"./index.0a9349fd.js";const y={value:{type:[String,Number,Boolean,Object,Array],default:!1},checkedValue:{type:[String,Number,Boolean,Object,Array],default:!0},uncheckedValue:{type:[String,Number,Boolean,Object,Array],default:!1},checkedColor:{type:String},uncheckedColor:{type:String},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},iconSize:{type:[String,Number]},ripple:{type:Boolean,default:!0},validateTrigger:{type:Array,default:()=>["onChange"]},rules:{type:Array}};var g=function(){var e=this,r=e.$createElement,a=e._self._c||r;return a("div",{staticClass:"var-checkbox__wrap",on:{click:e.handleClick}},[a("div",{staticClass:"var-checkbox"},[a("div",{directives:[{name:"ripple",rawName:"v-ripple",value:{disabled:e.formReadonly||e.readonly||e.formDisabled||e.disabled||!e.ripple},expression:"{ disabled: formReadonly || readonly || formDisabled || disabled || !ripple }"}],staticClass:"var-checkbox__action",class:[e.checked?"var-checkbox--checked":"var-checkbox--unchecked",e.errorMessage||e.checkboxGroupErrorMessage?"var-checkbox--error":null,e.formDisabled||e.disabled?"var-checkbox--disabled":null],style:{color:e.checked?e.checkedColor:e.uncheckedColor}},[e.checked?e._t("checked-icon",function(){return[a("var-icon",{staticClass:"var-checkbox__icon",class:[e.withAnimation?"var-checkbox--with-animation":null],attrs:{name:"checkbox-marked",size:e.iconSize,"var-checkbox-cover":""}})]}):e._e(),e.checked?e._e():e._t("unchecked-icon",function(){return[a("var-icon",{staticClass:"var-checkbox__icon",class:[e.withAnimation?"var-checkbox--with-animation":null],attrs:{name:"checkbox-blank-outline",size:e.iconSize,"var-checkbox-cover":""}})]})],2),a("div",{staticClass:"var-checkbox__text",class:[e.errorMessage||e.checkboxGroupErrorMessage?"var-checkbox--error":null,e.formDisabled||e.disabled?"var-checkbox--disabled":null]},[e._t("default")],2)]),a("var-form-details",{attrs:{"error-message":e.errorMessage}})],1)},C=[];const V=v({name:"VarCheckbox",mixins:[b,u("checkboxGroup",{childrenKey:"checkboxes"}),u("form",{parentKey:"form",childrenKey:"formItems"})],directives:{Ripple:f},components:{VarIcon:m,VarFormDetails:p},props:y,data:()=>({localValue:!1,withAnimation:!1}),computed:{checked(){return this.localValue===this.checkedValue},checkboxGroupErrorMessage(){var e;return(e=this.checkboxGroup)==null?void 0:e.checkboxGroupErrorMessage},formReadonly(){var e;return(e=this.form)==null?void 0:e.readonly},formDisabled(){var e;return(e=this.form)==null?void 0:e.disabled}},watch:{value:{handler(e){this.localValue=e},immediate:!0}},methods:{reset(){var e,r;(r=(e=this.getListeners()).onInput)==null||r.call(e,this.uncheckedValue),this.resetValidation()},toggle(e){const{checkedValue:r,uncheckedValue:a}=this;![r,a].includes(e)&&(e=this.checked?a:r),this.change(e)},validate(){this._validate(this.rules,this.value)},validateWithTrigger(e){this.$nextTick(()=>{const{validateTrigger:r,rules:a,value:t}=this;this._validateWithTrigger(r,e,a,t)})},change(e){var t,i,s,l,c,o;const{checkedValue:r,getListeners:a}=this;this.localValue=e,(i=(t=a()).onInput)==null||i.call(t,this.localValue),(l=(s=a()).onChange)==null||l.call(s,this.localValue),this.validateWithTrigger("onChange"),e===r?(c=this.checkboxGroup)==null||c.onChecked(r):(o=this.checkboxGroup)==null||o.onUnchecked(r)},async handleClick(e){var c,o,h,d;const{disabled:r,readonly:a,checkedValue:t,uncheckedValue:i,getListeners:s}=this;if(((c=this.form)==null?void 0:c.disabled)||r||((h=(o=s()).onClick)==null||h.call(o,e),((d=this.form)==null?void 0:d.readonly)||a))return;this.withAnimation=!1;const l=this.checkboxGroup?this.checkboxGroup.checkedCount>=Number(this.checkboxGroup.max):!1;!this.checked&&l||(this.change(this.checked?i:t),await x(),this.withAnimation=!0)},sync(e){const{checkedValue:r,uncheckedValue:a}=this;this.localValue=e.includes(r)?r:a}}}),k={};var w=_(V,g,C,!1,G,null,null,null);function G(e){for(let r in k)this[r]=k[r]}var n=function(){return w.exports}();n.install=function(e){e.component(n.name,n)};export{n as C};
