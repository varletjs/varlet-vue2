import{F as h,V as l}from"./validation.7606bf3f.js";import{d as u}from"./create.03b31fc7.js";import{u as o}from"./shared.f8da68a0.js";import{a as d,c as m}from"./relation.9e421618.js";import{n as p}from"./index.0a9349fd.js";function v(e){return["horizontal","vertical"].includes(e)}const g={value:{type:Array,default:()=>[]},max:{type:[String,Number]},direction:{type:String,default:"horizontal",validator:v},validateTrigger:{type:Array,default:()=>["onChange"]},rules:{type:Array}};var f=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"var-checkbox-group__wrap"},[r("div",{staticClass:"var-checkbox-group",class:["var-checkbox-group--"+e.direction]},[e._t("default")],2),r("var-form-details",{attrs:{"error-message":e.errorMessage}})],1)},_=[];const x=u({name:"VarCheckboxGroup",components:{VarFormDetails:h},mixins:[l,d("checkboxGroup",{childrenKey:"checkboxes"}),m("form",{parentKey:"form",childrenKey:"formItems"})],props:g,computed:{checkedCount(){return this.value.length},checkboxGroupErrorMessage(){return this.errorMessage}},watch:{value:{handler(){this.syncCheckboxes()},deep:!0},checkboxes(){this.syncCheckboxes()}},methods:{checkAll(){var r,i;const e=this.checkboxes.map(({checkedValue:s})=>s);this.resetWithAnimation();const t=o(e);return(i=(r=this.getListeners()).onInput)==null||i.call(r,t),t},inverseAll(){var r,i,s;const e=(r=this.checkboxes)==null?void 0:r.filter(({checked:n})=>!n).map(({checkedValue:n})=>n);this.resetWithAnimation();const t=o(e);return(s=(i=this.getListeners()).onInput)==null||s.call(i,t),t},reset(){var e,t;(t=(e=this.getListeners()).onInput)==null||t.call(e,[]),this.resetValidation()},validate(){this._validate(this.rules,this.value)},resetWithAnimation(){this.checkboxes.forEach(e=>{e.withAnimation=!1})},validateWithTrigger(e){this.$nextTick(()=>{const{validateTrigger:t,rules:r,value:i}=this;this._validateWithTrigger(t,e,r,i)})},change(e){var t,r,i,s;(r=(t=this.getListeners()).onInput)==null||r.call(t,e),(s=(i=this.getListeners()).onChange)==null||s.call(i,e),this.validateWithTrigger("onChange")},onChecked(e){const{value:t}=this;t.includes(e)||this.change([...t,e])},onUnchecked(e){var t;!this.value.includes(e)||this.change((t=this.value)==null?void 0:t.filter(r=>r!==e))},syncCheckboxes(){var e;(e=this.checkboxes)==null||e.forEach(({sync:t})=>{t(this.value)})}}}),c={};var k=p(x,f,_,!1,b,null,null,null);function b(e){for(let t in c)this[t]=c[t]}var a=function(){return k.exports}();a.install=function(e){e.component(a.name,a)};export{a as C};
