import{V as v,F as m}from"./validation.7606bf3f.js";import{d as p}from"./create.03b31fc7.js";import{a as _,c as n}from"./relation.9e421618.js";import{n as f}from"./index.0a9349fd.js";import{I as g}from"./index.7e6c9d9a.js";import{R as y}from"./index.19abdf8c.js";import{f as k}from"./elements.2a324d45.js";function b(e){return["horizontal","vertical"].includes(e)}const V={value:{type:[String,Number,Boolean,Object,Array],default:void 0},direction:{type:String,default:"horizontal",validator:b},validateTrigger:{type:Array,default:()=>["onChange"]},rules:{type:Array}};var R=function(){var e=this,r=e.$createElement,a=e._self._c||r;return a("div",{staticClass:"var-radio-group__wrap"},[a("div",{staticClass:"var-radio-group",class:["var-radio-group--"+e.direction]},[e._t("default")],2),a("var-form-details",{attrs:{"error-message":e.errorMessage}})],1)},C=[];const x=p({name:"VarRadioGroup",mixins:[v,_("radioGroup",{childrenKey:"radios"}),n("form",{parentKey:"form",childrenKey:"formItems"})],components:{VarFormDetails:m},props:V,computed:{radioGroupErrorMessage(){return this.errorMessage}},watch:{value(){this.syncRadios()},radios(){this.syncRadios()}},methods:{validate(){this._validate(this.rules,this.value)},reset(){var e,r;(r=(e=this.getListeners()).onInput)==null||r.call(e,void 0),this.resetValidation()},validateWithTrigger(e){this.$nextTick(()=>{const{validateTrigger:r,rules:a,value:i}=this;this._validateWithTrigger(r,e,a,i)})},syncRadios(){this.radios.forEach(({sync:e})=>e(this.value))},onToggle(e){const{onInput:r,onChange:a}=this.getListeners();r==null||r(e),a==null||a(e),this.validateWithTrigger("onChange")}}}),u={};var M=f(x,R,C,!1,A,null,null,null);function A(e){for(let r in u)this[r]=u[r]}var s=function(){return M.exports}();s.install=function(e){e.component(s.name,s)};const T={value:{type:[String,Number,Boolean,Object,Array],default:!1},checkedValue:{type:[String,Number,Boolean,Object,Array],default:!0},uncheckedValue:{type:[String,Number,Boolean,Object,Array],default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},checkedColor:{type:String},uncheckedColor:{type:String},iconSize:{type:[String,Number]},ripple:{type:Boolean,default:!0},validateTrigger:{type:Array,default:()=>["onChange"]},rules:{type:Array}};var w=function(){var e=this,r=e.$createElement,a=e._self._c||r;return a("div",{staticClass:"var-radio__wrap"},[a("div",e._b({staticClass:"var-radio",on:{click:e.handleClick}},"div",e.$attrs,!1),[a("div",{directives:[{name:"ripple",rawName:"v-ripple",value:{disabled:e.formReadonly||e.readonly||e.formDisabled||e.disabled||!e.ripple},expression:"{ disabled: formReadonly || readonly || formDisabled || disabled || !ripple }"}],staticClass:"var-radio__action",class:[e.checked?"var-radio--checked":"var-radio--unchecked",e.errorMessage||e.radioGroupErrorMessage?"var-radio--error":null,e.formDisabled||e.disabled?"var-radio--disabled":null],style:{color:e.checked?e.checkedColor:e.uncheckedColor}},[e.checked?e._t("checked-icon",function(){return[a("var-icon",{staticClass:"var-radio__icon",class:[e.withAnimation?"var-radio--with-animation":null],attrs:{"var-radio-cover":"",name:"radio-marked",size:e.iconSize}})]}):e._t("unchecked-icon",function(){return[a("var-icon",{staticClass:"var-radio__icon",class:[e.withAnimation?"var-radio--with-animation":null],attrs:{"var-radio-cover":"",name:"radio-blank",size:e.iconSize}})]})],2),a("div",{staticClass:"var-radio__text",class:[e.errorMessage||e.radioGroupErrorMessage?"var-radio--error":null,e.formDisabled||e.disabled?"var-radio--disabled":null]},[e._t("default")],2)]),a("var-form-details",{attrs:{"error-message":e.errorMessage}})],1)},G=[];const S=p({name:"VarRadio",inheritAttrs:!1,mixins:[v,n("radioGroup",{childrenKey:"radios"}),n("form",{parentKey:"form",childrenKey:"formItems"})],directives:{Ripple:y},components:{VarIcon:g,VarFormDetails:m},props:T,data:()=>({localValue:!1,withAnimation:!1}),computed:{checked(){return this.localValue===this.checkedValue},radioGroupErrorMessage(){var e;return(e=this.radioGroup)==null?void 0:e.radioGroupErrorMessage},formReadonly(){var e;return(e=this.form)==null?void 0:e.readonly},formDisabled(){var e;return(e=this.form)==null?void 0:e.disabled}},watch:{value:{handler(e){this.localValue=e},immediate:!0}},methods:{reset(){const{onInput:e}=this.getListeners();e==null||e(this.uncheckedValue),this.resetValidation()},validate(){this._validate(this.rules,this.value)},toggle(e){const{uncheckedValue:r,checkedValue:a}=this;![r,a].includes(e)&&(e=this.checked?r:a),this.change(e)},validateWithTrigger(e){this.$nextTick(()=>{const{validateTrigger:r,rules:a,value:i}=this;this._validateWithTrigger(r,e,a,i)})},change(e){var t;const{checkedValue:r}=this,{onChange:a,onInput:i}=this.getListeners();this.radioGroup&&this.localValue===r||(this.localValue=e,i==null||i(this.localValue),a==null||a(this.localValue),(t=this.radioGroup)==null||t.onToggle(r),this.validateWithTrigger("onChange"))},async handleClick(e){var d,c;const{disabled:r,readonly:a,uncheckedValue:i,checkedValue:t}=this,{onClick:o}=this.getListeners();((d=this.form)==null?void 0:d.disabled)||r||(o==null||o(e),this.withAnimation=!1,!(((c=this.form)==null?void 0:c.readonly)||a)&&(this.change(this.checked?i:t),await k(),this.withAnimation=!0))},sync(e){const{checkedValue:r,uncheckedValue:a}=this;this.localValue=e===r?r:a}}}),h={};var $=f(S,w,G,!1,z,null,null,null);function z(e){for(let r in h)this[r]=h[r]}var l=function(){return $.exports}();l.install=function(e){e.component(l.name,l)};export{s as R,l as a};
