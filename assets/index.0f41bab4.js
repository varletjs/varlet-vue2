import{p as x,S as C}from"./index.1951e852.js";import{d as _}from"./create.03b31fc7.js";import{p as g}from"./components.e000a0b0.js";import{i as S,v as h}from"./shared.f8da68a0.js";import{f as z,t as T,s as v}from"./elements.2a324d45.js";import{a as $,c as k}from"./relation.9e421618.js";import{n as y}from"./index.0a9349fd.js";import{R as D}from"./index.19abdf8c.js";function p(t){return["horizontal","vertical"].includes(t)}const w={active:{type:[String,Number],default:0},layoutDirection:{type:String,default:"horizontal",validator:p},itemDirection:{type:String,default:"horizontal",validator:p},fixedBottom:{type:Boolean,default:!1},activeColor:{type:String},inactiveColor:{type:String},disabledColor:{type:String},color:{type:String},indicatorColor:{type:String},indicatorSize:{type:[String,Number]},elevation:{type:Boolean,default:!1},sticky:{type:Boolean,default:!1},offsetTop:g(x,"offsetTop")};var B=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a(t.sticky?"var-sticky":"transition",{tag:"component",attrs:{"offset-top":t.sticky?t.offsetTop:null}},[a("div",t._b({staticClass:"var-tabs var--box",class:["var-tabs--item-"+t.itemDirection,"var-tabs--layout-"+t.layoutDirection+"-padding",t.elevation?"var-elevation--4":null,t.fixedBottom?"var-tabs--fixed-bottom":null],style:{background:t.color}},"div",t.$attrs,!1),[a("div",{ref:"scrollerEl",staticClass:"var-tabs__tab-wrap",class:[t.scrollable?"var-tabs--layout-"+t.layoutDirection+"-scrollable":null,"var-tabs--layout-"+t.layoutDirection]},[t._t("default"),a("div",{staticClass:"var-tabs__indicator",class:["var-tabs--layout-"+t.layoutDirection+"-indicator"],style:{width:t.layoutDirection==="horizontal"?t.indicatorWidth:t.toSizeUnit(t.indicatorSize),height:t.layoutDirection==="horizontal"?t.toSizeUnit(t.indicatorSize):t.indicatorHeight,transform:t.layoutDirection==="horizontal"?"translateX("+t.indicatorX+")":"translateY("+t.indicatorY+")",background:t.indicatorColor||t.activeColor}})],2)])])},E=[];const L=_({name:"VarTabs",components:{VarSticky:C},mixins:[$("tab",{childrenKey:"tabs"})],inheritAttrs:!1,props:w,data:()=>({indicatorWidth:"0px",indicatorHeight:"0px",indicatorX:"0px",indicatorY:"0px",scrollable:!1}),mounted(){window.addEventListener("resize",this.resize)},beforeDestroy(){window.removeEventListener("resize",this.resize)},watch:{async tabs(){await z(),this.resize()},active(){this.resize()}},methods:{resize(){const t=this.matchName()||this.matchIndex()||this.matchBoundary();!t||t.disabled||(this.watchScrollable(),this.moveIndicator(t),this.scrollToCenter(t))},toSizeUnit:T,onTabClick(t){var o,r,s,n,l,f,u;const i=(o=t.name)!=null?o:t.index,{active:a,getListeners:e}=this;(s=(r=e())["onUpdate:active"])==null||s.call(r,i),(l=(n=e()).onClick)==null||l.call(n,i),i!==a&&((u=(f=e()).onChange)==null||u.call(f,i))},matchName(){return this.tabs.find(({name:t})=>this.active===t)},matchIndex(){return this.tabs.find(({index:t})=>this.active===t)},matchBoundary(){var e,o,r,s;const{active:t,tabs:{length:i},getListeners:a}=this;if(i!==0)return S(t)&&(t>i-1?(o=(e=a())["onUpdate:active"])==null||o.call(e,i-1):(s=(r=a())["onUpdate:active"])==null||s.call(r,0)),this.matchIndex()},watchScrollable(){this.scrollable=this.tabs.length>=5},moveIndicator({element:t}){this.layoutDirection==="horizontal"?(this.indicatorWidth=`${t==null?void 0:t.offsetWidth}px`,this.indicatorX=`${t==null?void 0:t.offsetLeft}px`):(this.indicatorHeight=`${t==null?void 0:t.offsetHeight}px`,this.indicatorY=`${t==null?void 0:t.offsetTop}px`)},scrollToCenter({element:t}){if(!this.scrollable)return;const i=this.$refs.scrollerEl;if(this.layoutDirection==="horizontal"){const a=t.offsetLeft+t.offsetWidth/2-i.offsetWidth/2;v(i,{left:a,animation:h})}else{const a=t.offsetTop+t.offsetHeight/2-i.offsetHeight/2;v(i,{top:a,animation:h})}}}}),b={};var N=y(L,B,E,!1,H,null,null,null);function H(t){for(let i in b)this[i]=b[i]}var c=function(){return N.exports}();c.install=function(t){t.component(c.name,c)};const U={name:{type:[String,Number]},disabled:{type:Boolean,default:!1}};var W=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{directives:[{name:"ripple",rawName:"v-ripple",value:{disabled:t.disabled},expression:"{ disabled }"}],ref:"tabEl",staticClass:"var-tab var--box",class:[t.computeColorClass(),"var-tab--"+t.itemDirection],style:{color:t.computeColorStyle()},on:{click:t.handleClick}},[t._t("default")],2)},I=[];const R=_({name:"VarTab",mixins:[k("tab",{parentKey:"tab",childrenKey:"tabs"})],directives:{Ripple:D},props:U,computed:{element(){return this.$refs.tabEl},itemDirection(){return this.tab.itemDirection}},watch:{name(){this.tab.resize()},disabled(){this.tab.resize()}},methods:{computeColorStyle(){const{disabled:t,name:i,tab:a,index:e}=this,{active:o,activeColor:r,inactiveColor:s,disabledColor:n}=a;return t?n:o===i||o===e?r:s},computeColorClass(){const{disabled:t,name:i,index:a,tab:{active:e}}=this;return t?"var-tab--disabled":e===i||e===a?"var-tab--active":"var-tab--inactive"},handleClick(t){var n,l;const{disabled:i,name:a,getListeners:e,index:o,element:r,tab:{onTabClick:s}}=this;i||((l=(n=e()).onClick)==null||l.call(n,a!=null?a:o,t),s({name:a,index:o,disabled:i,element:r}))}}}),m={};var M=y(R,W,I,!1,V,null,null,null);function V(t){for(let i in m)this[i]=m[i]}var d=function(){return M.exports}();d.install=function(t){t.component(d.name,d)};export{c as T,d as a};
